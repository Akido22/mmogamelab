<!-- doc.title Настройка игровой библиотеке в конструкторе игр -->
<!-- doc.parent index -->
<!-- doc.keywords библиотека, онлайн-игры -->
<!-- doc.description Описание работы редактора библиотеки в конструкторе онлайн-игр -->

<h1>Структура библиотеки</h1>

<p>Библиотека игры представляет собой справочник по игре. Часть страниц библиотеки создаётся автоматически при подключении новых модулей, часть &mdash; вручную администратором. Модуль библиотеки подключается через <a href="/doc/modules">систему подключения модулей</a>. После подключения модуля библиотеки вам необходимо зайти в <a href="/doc/design/gameinterface-structure#buttons">редактор кнопок</a> и поместить кнопку библиотеки в какой-либо блок.</p>

<p>Каждая страница библиотеки имеет собственный URL &mdash; /library/<strong>код</strong>. Код &mdash; это буквенно-цифровая строка, которая идентифицирует страницу библиотеки. Эти коды вам необходимо будет придумывать, когда вы создаёте новые страницы.</p>

<h1>Список страниц библиотеки</h1>

<p>В меню "Библиотека / Страницы библиотеки" отображается список страниц, которые созданы администратором вручную: <img class="doc-screenshot" src="/st/tutorial/library-1.png" alt="" /></p>
<p>Чтобы создать новую страницу, нажмите на ссылку "Новая страница библиотеки", и заполните форму: <img class="doc-screenshot" src="/st/tutorial/library-2.png" alt="" /></p>
<ul>
	<li>первое поле &mdash; код страницы. Если вы хотите написать статью, например, о войнах, то в качестве кода можете использовать "wars", и тогда страница будет доступна по адресу "/library/wars";</li>
	<li>название страницы &mdash; это полное название страницы библиотеки;</li>
	<li>код родительской страницы &mdash; это код страницы, которая является родительской по отношению к текущей. Если код не указан, то родительской страницы не будет. Если же указан, то на странице появится полоса навигации, через которую можно перейти к родительской странице. Если вы хотите, чтобы навигатор появился, но в качестве родительской была главная страница библиотеки, напишите в это поле код "index";</li>
	<li>содержимое страницы &mdash; это полноценный HTML-редактор. Можете пользоваться визуальным режимом, можете переключиться в режим ручной HTML-разметки и написать любой код вручную. Это может быть полезно, скажем, для вставки таблиц;</li>
	<li>ключевые слова и описание &mdash; это поля для SEO-оптимизации. Они не будут видны пользователям, однако будут учитываться поисковыми системами при ранжировании страниц;</li>
	<li>выбор групп, к которым принадлежит страница, описан в следующем разделе.</li>
</ul>

<h1>Организация страниц по группам</h1>

<p>Создавая страницу библиотеки, вам, скорее всего, захочется, чтобы она показывалась в оглавлении. Конструктор библиотеки позволяет вам создавать различные рубрикаторы для перечисления в них различных страниц. Разберёмся, как это делается.</p>

<p>В разделе "Библиотека / Группы страниц библиотеки" перечислены все рубрикаторы, которые в данный момент есть в вашей игре. Там есть как рубрикаторы, созданные подключенными модулями конструктора, так и вручную созданные администратором игры: <img class="doc-screenshot" src="/st/tutorial/library-3.png" alt="" /></p>
<p>Изменить системные рубрикаторы вы не сможете. Редактировать и удалять можно только те рубрикаторы, которые создали вы сами. Создадим новый рубрикатор (ссылка "Новая группа страниц"): <img class="doc-screenshot" src="/st/tutorial/library-4.png" alt="" /></p>
<ul>
	<li>код группы страниц &mdash; это код страниц, при помощи которого можно обращаться к рубрикатору через <a href="/doc/script">движок скриптов</a>, поэтому правила его написания довольно необычны: код должен начинаться со строки "u_" и содержать только латиницу, цифры и подчёркивания;</li>
	<li>название &mdash; это название рубрикатора;</li>
	<li>"страница является блоком" &mdash; это возможность на всех страницах, которые вы отнесёте к этой группе, разместить справа от текста плавающий блок с произвольным текстом. Например, на всех страницах библиотеки, относящихся к платным услугам, вы можете создать подсказку, как правильно пополнить счёт.</li>
</ul>
<p>После создания группы вы можете зайти в редактор страниц библиотеки и для каждой из страниц, которые хотите включить в эту группу, проставьте какое-нибудь целое число напротив названия группы. Смысл этого числа &mdash; порядок сортировки страниц в группе.</p>

<h1>Отображение рубрикаторов</h1>

<p>Чтобы отобразить содержимое рубрикатора, вам необходимо вставить специальный тег <strong>[hook:lib.catalog grp="код-группы"]</strong> в любой HTML-шаблон конструктора или в текст страницы библиотеки. К примеру, создадим тестовый рубрикатор u_test: <img class="doc-screenshot" src="/st/tutorial/library-5.png" alt="" /></p>
<p>Затем создадим две тестовые страницы: "Страница 1" и "Страница 2" и добавим их в новый рубрикатор: <img class="doc-screenshot" src="/st/tutorial/library-6.png" alt="" /></p>
<p>Создадим ещё одну страницу, назовём её "Тестовое оглавление" и поместим в неё тег [hook:lib.catalog grp="u_test"]: <img class="doc-screenshot" src="/st/tutorial/library-7.png" alt="" /></p>
<p>Теперь зайдём на страницу /library/test/contents и мы увидим перечень страниц, входящий в рубрикатор u_test: <img class="doc-screenshot" src="/st/tutorial/library-8.png" alt="" /></p>

<h1>Отображение плавающих блоков</h1>

<p>Откроем свойства рубрикатора u_test из предыдущего раздела, включим для него режим HTML-блока и пропишем ему какой-нибудь текст: <img class="doc-screenshot" src="/st/tutorial/library-9.png" alt="" /></p>
<p>Если теперь открыть одну из страниц, входящих в этот рубрикатор, то справа мы увидим блок с этим текстом: <img class="doc-screenshot" src="/st/tutorial/library-10.png" alt="" /></p>
<p>Текст блока может содержать в себе и теги. Таким образом, вы можете выводить список полезных ссылок, которые могут заинтересовать читателя этой страницы. Есть также режим, позволяющий показывать блок на всех страницах библиотеки, независимо от того, входят они в эту группу или нет. Создадим ещё одну группу, в которой выведем оглавление библиотеки ([hook:lib.catalog grp="index"]): <img class="doc-screenshot" src="/st/tutorial/library-11.png" alt="" /></p>
<p>Теперь тестовая страница выглядит так: <img class="doc-screenshot" src="/st/tutorial/library-12.png" alt="" /></p>
<p>Обратите внимание, что новый блок отображается ниже старого. Это получилось, потому что порядок сортировки нового блока больше, чем порядок сортировки старого. Если вы захотите поменять их местами, поправьте соответствующим образом порядки сортировки у блоков.</p>

<h1>Переопределение автоматически сгенерированных страниц</h1>

<p>Конструктор игр генерирует некоторые страницы библиотеки автоматически, в зависимости от настроек вашей игры. Если вам не нравится вид страницы, вы всегда можете создать свою пользовательскую страницу с тем же тегом, и написать в ней, что хотите.</p>

<h1>Дополнительно</h1>
<p>Информация о том, как настроить своё оформление библиотеки, приведена на странице <a href="/doc/design/library">Оформление страниц библиотеки</a>.</p>
