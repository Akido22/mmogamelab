<!-- doc.title Работа со временем в MMO Constructor -->
<!-- doc.parent index -->
<!-- doc.keywords время, синхронизация -->
<!-- doc.description Статья о доступе к счетчику времени в конструкторе онлайн-игр MMO Constructor -->

<h1>Работа со временем</h1>

<p>В играх, реализуемых в конструкторе, доступен счётчик реального времени, значение которого &mdash; дробное число секунд, прошедших с 1 января 1970 года по Гринвичу (так называемое UNIX time).</p>

<p>Доступ к этому счётчику времени осуществляется как через MMOScript, так и через JavaScript API на клиенте. Кроме того, <a href="/doc/design/progress">прогресс-бар перемещения между локациями</a> также использует синхронизированное время.</p>

<h1>Синхронизация времени</h1>

<p>MMO Constructor синхронизирует время на клиенте и сервере таким образом, чтобы они показывали одинаковое время. В процессе игры часы постоянно синхронизируются, чтобы нивелировать возможные расхождения.</p>

<h1>Доступ к счётчику времени через MMOScript</h1>

<p>В выражениях MMOScript как на сервере, так и на клиенте доступны переменные t и T, значение которых равно текущему времени. Различие между t и T заключается в том, что при <a href="/doc/script#conversions">частичном вычислении</a> значений, вместо T подставляется текущее время на момент частичного вычисления, а t остаётся свободной переменной.</p>

<p>Обратите внимание, что на клиенте до первой синхронизации времени значения t и T не определены (none). Первая синхронизация происходит достаточно быстро после запуска игры, однако это время ненулевое.</p>

<h1>Доступ к счётчику времени через JavaScript API</h1>

<p>На стороне клиента можно получить текущее синхронизированное время через функцию TimeSync.getTime():</p>
<pre class="doc-code-sample">
var time = TimeSync.getTime();
</pre>

<p>До первой синхронизации времени getTime() возвращает undefined.</p>
