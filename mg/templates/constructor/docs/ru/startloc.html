<!-- doc.title Стартовая локация для персонажа -->
<!-- doc.parent locations -->
<!-- doc.keywords локации, расы, классы, онлайн-игры -->
<!-- doc.description Описание настройки стартовой локации персонажа в конструкторе онлайн-игр -->

<h1>Стартовая локация для персонажа</h1>

<p>Администратору игры может потребоваться выбирать стартовую локацию для новых персонажей не статическим образом, а изменять её в зависимости от каких-то условий. Когда персонаж создаётся, он будет автоматически находиться в той стартовой локации, которая указана в <a href="/doc/locations#config">настройках системы локаций</a>. После этого игроку обычно предлагается выбрать расу или класс персонажа при помощи <a href="/doc/character-classes">системы рас и классов</a>. Затем, в зависимости от выбора игрока, персонаж телепортируется в стартовую локацию выбранной расы.</p>

<h1>Настройка стартовых локаций для рас и классов</h1>

<p>Чтобы иметь возможность просто и удобно настроить стартовые локации для разных рас и классов, администратор может <a href="/doc/modules">подключить модуль</a> "Стартовая локация", а затем через специальный интерфейс "Локации / Стартовые локации" настроить стартовую локацию для любого класса: <img class="doc-screenshot" alt="" src="/st/tutorial/startloc-1.png" /></p>

<p>Технически действия модуля очень простое. После того, как игрок выбирает себе класс через интерфейс выбора класса, система телепортирует его в указанную локацию. Если локация не указана, то телепортации не происходит.</p>

<h1>Ручная настройка</h1>

<p>Использование этого модуля не является обязательным. При помощи <a href="/doc/quests">движка квестов и триггеров</a> администратор может настроить более гибкую реакцию игры на выбор класса. Это делается при помощи обработчиков события "charclass-selected" и инструкции "teleport". Например, чтобы при выборе класса мужские и женские персонажи попадали в разные локации, можно написать такой обработчик:</p>

<pre class="doc-code-sample">
class selected {
  if char.sex {
    teleport "2389492837492834"
  } else {
    teleport "9028929879839812"
  }
}
</pre>

<h1>Дополнительно</h1>

<ul>
	<li><a href="/doc/character-classes">Расы и классы</a></li>
	<li><a href="/doc/locations">Система локаций</a></li>
	<li><a href="/doc/quests">Квестовый движок</a></li>
</ul>
