<!-- doc.title Система привилегий в конструкторе игр -->
<!-- doc.parent index -->
<!-- doc.keywords привилегии, доступ, разрешения, онлайн-игра -->
<!-- doc.description Статья о системе настройки привилегий в играх, созданных на конструкторе онлайн-игр -->

<h1>Система привилегий</h1>

<p>Доступ к различным функциям игры могут иметь различные пользователи. Предоставление доступа к функциям осуществляется через механизм привилегий. Доступ выдаётся конкретным персонажам (не игрокам). Список привилегий, доступных в вашей игре, зависит от набора подключенных модулей и их режимов. Кроме того, администратор имеет возможность создавать собственные привилегии и выдавать их персонажам.</p>

<h1>Выдача доступа</h1>

<p>Доступ персонажа настраивается через его досье. На вкладке "Аутентификация" расположен пункт меню "Привилегии", через который можно определить, какие привилегии доступны данному персонажу: <img class="doc-screenshot" src="/st/tutorial/perms-1.png" alt="" /></p>
<p>Привилегия "Выдача привилегий пользователям" позволяет персонажу выдавать любые привилегии любому персонажу (в том числе, и себе).</p>
<p>Особая привилегия "Главный администратор проекта" автоматически предоставляет персонажу доступ ко всем привилегиям игры. Достаточно поставить эту галочку и не выбирать ни одну другую. В игре может быть сколько угодно главных администраторов.</p>

<h1>Поддержка скриптов</h1>

<p>Через <a href="/doc/script">скриптовый движок</a> конструктора игр можно получить доступ к информации, обладает ли персонаж конкретной привилегией. Это можно сделать через атрибут "perm_<strong>код</strong>" персонажа. Выражение, при помощи которого можно узнать наличие привилегии, приведено в интерфейсе выдачи привилегий в скобках (см. скриншот выше).</p>

<h1>Ручное создание новых привилегий</h1>

<p>В игре у администратора может появиться потребность создать какие-то дополнительные привилегии, чтобы затем проверять их наличие через скриптовый движок. Например, это может быть режим "особая подсветка ника в чате" или что-то другое. Чтобы получить возможность создавать свои привилегии, необходимо <a href="/doc/modules">подключить модуль</a> "Привилегии, определяемые пользователем". После этого в меню появится пункт "Аутентификация / Привилегии, определяемые пользователем" с административным интерфейсом, через который можно создать, изменить и удалить привилегии: <img class="doc-screenshot" src="/st/tutorial/perms-2.png" alt="" /></p>

<p>Вновь созданные привилегии сразу становятся доступными через интерфейс выдачи привилегий: <img class="doc-screenshot" src="/st/tutorial/perms-3.png" alt="" /></p>

<h1>Пример использования</h1>

<p>Чтобы вышеописанный пример выполнял заявленное действие, можно в <a href="/doc/character-names">редакторе имён персонажей</a> задать следующее выражение для ростера:</p>

<pre class="doc-code-sample">
&lt;span{char.perm_u_admin_highlight ? ' style="color: red"' : ""}&gt;{NAME}&lt;/span&gt; {INFO}
</pre>

<h1>Дополнительная информация</h1>
<ul>
	<li><a href="/doc/script">Скриптовый движок</a></li>
</ul>
