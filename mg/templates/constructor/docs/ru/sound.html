<!-- doc.title Звуковая система в конструкторе онлайн-игр -->
<!-- doc.parent index -->
<!-- doc.keywords звуковая система, звуки, музыка, онлайн-игры -->
<!-- doc.description Настройка звука и музыки в конструкторе онлайн-игр -->

<h1>Звуковая система</h1>

<p>Эта система позволяет администраторам игр использовать в своих играх звуковое и музыкальное оформление. Чтобы подключить звуковой движок к игре, необходимо <a href="/doc/modules">подключить модуль</a> "Звук".</p>

<p>После этого в административном интерфейсе игры появится пункт меню "Звуки", через который можно настраивать музыкальное оформление. Кроме того, в <a href="/doc/quests">квестовом</a> и <a href="/doc/combats">боевом</a> движках включаются команды, отвечающие за воспроизведение звука.</p>

<p>В административном интерфейсе звуковой системы разделяются понятия "звук" и "музыка". Под звуками понимаются звуковые эффекты (обычно короткие звуковые файлы, воспроизводимые вместе с какими-то игровыми действиями). Под музыкой понимается постоянно воспроизводимый фоновый звук.</p>

<p>Воспроизводимые музыкальные файлы организованы в плейлисты. Каждый плейлист может состоять из одного или нескольких треков. Треки воспроизводятся в случайном порядке. Администратор может при определённых условиях активировать тот или иной плейлист.</p>

<p>При смене плейлиста предыдущая музыка плавно затухает, а у новой плавно повышается громкость. Если в данный момент играет трек, который есть и в старом, и в новом плейлистах, то немедленной смены трека не произойдёт &mdash; вместо этого старый трек доиграет до конца и сменится следующим уже из нового плейлиста.</p>

<h1>Настройка музыки</h1>

<p>Чтобы иметь возможность воспроизводить в вашей игре фоновую музыку, вам необходимо создать один или несколько плейлистов. Это делается через пункт меню "Звуки / Музыкальные плейлисты": <img class="doc-screenshot" src="/st/tutorial/sound-1.png" alt="" /></p>

<p>При нажатии на ссылку "Новый плейлист" или на название одного из плейлистов откроется редактор параметров плейлиста: <img class="doc-screenshot" src="/st/tutorial/sound-2.png" alt="" /></p>

<ul>
    <li>Код плейлиста &mdash; используется в скриптах для того, чтобы начать воспроизведение плейлиста;</li>
    <li>название плейлиста &mdash; видно только администратору игры.</li>
</ul>

<p>При нажатии на ссылку "список треков" откроется перечень треков, относящихся к данному плейлисту: <img class="doc-screenshot" src="/st/tutorial/sound-3.png" alt="" /></p>

<p>Чтобы добавить в плейлист новые треки, необходимо предварительно загрузить mp3-файлы в <a href="/doc/storage">хранилище</a>, а затем нажать на ссылку "Добавить треки в плейлист": <img class="doc-screenshot" src="/st/tutorial/sound-4.png" alt="" /></p>

<p>Когда ваши плейлисты сформированы, можно использовать их к игре.</p>

<h1>Настройка музыки локаций</h1>

<p>Каждой локации можно задать свой плейлист, который будет активироваться при переходе в эту локацию. Для этого зайдите в <a href="/doc/locations">редактор локаций</a>, откройте нужную локацию и щёлкните по пункту меню "Музыка": <img class="doc-screenshot" src="/st/tutorial/sound-5.png" alt="" /></p>

<ul>
    <li>Фоновая музыка &mdash; укажите плейлист (или специальный пункт "Нет музыки");</li>
    <li>громкость музыки &mdash; число в процентах. Чем больше, тем громче;</li>
    <li>плавный переход &mdash; число миллисекунд, в течение которых предыдущая музыка затихнет, а новая наберёт громкость.</li>
</ul>

<h1>Настройка музыки боёв</h1>

<p>Каждому типу <a href="/doc/combats">боевых систем</a> можно задать свою фоновую музыку. Для этого зайдите в пункт меню "Бои / Правила боёв" и нажмите на ссылку "профиль боевой системы". Для музыки отведён специальный раздел &mdash; "Настройки музыки": <img class="doc-screenshot" src="/st/tutorial/sound-6.png" alt="" /></p>

<ul>
    <li>Музыка во время боя &mdash; либо укажите плейлист, либо выберите специальный пункт "Не трогать фоновую музыку". В последнем случае при начале боя музыка локации отключаться не будет;</li>
    <li>громкость музыки &mdash; число в процентах. Чем больше, тем громче;</li>
    <li>плавный переход &mdash; число миллисекунд, в течение которых предыдущая музыка затихнет, а новая наберёт громкость.</li>
</ul>

<h1>Скриптовая поддержка</h1>

<p>Через квестовый движок можно включить/выключить музыку и воспроизвести любой звук игроку, для чьего персонажа выполняется квестовый обработчик. Документация доступна в разделе "<a href="/doc/quests#sounds">Звук</a>".</p>
<p>Через боевой движок можно включить/выключить музыку и воспроизвести любой звук либо для всех участника боя разом, либо для указанного в отдельности. Документация доступна в разделе "<a href="/doc/combats#sounds">Звук</a>".</p>

<h1>Дополнительно</h1>
<ul>
    <li><a href="/doc/script">Описание скриптового движка</a></li>
    <li><a href="/doc/quests">Описание квестового движка</a></li>
</ul>
