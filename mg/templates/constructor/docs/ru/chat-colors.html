<!-- doc.title Настройка цветов в чате игры -->
<!-- doc.parent chat -->
<!-- doc.keywords цвета чата, цвета в чате -->
<!-- doc.description Описание работы системы настройки цветов в игровом чате в конструкторе онлайн-игр -->

<h1>Настройка цветов в чате</h1>

<p>Администратор игры может предоставить игрокам возможность выбирать цвет и оформление своих сообщений в чате. Варианты цветов и оформления задаются администратором в виде фиксированного списка. К каждому варианту можно индивидуально настроить скриптовое условие, при котором этот вариант будет доступен персонажу.</p>

<p>Настройка цветов осуществляется через меню "Социалка / Чат / Цвета в чате": <img class="doc-screenshot" src="/st/tutorial/chatimages-1.png" alt="" /></p>

<p>Форма создания нового цвета и редактирования позволяет задать название цвета, порядок сортировки цветов и другие параметры: <img class="doc-screenshot" src="/st/tutorial/chatimages-2.png" alt="" /></p>

<ul>
	<li>Название цвета &mdash; текст, который игроки будут видеть в списке цветов;</li>
	<li>порядок сортировки &mdash; число. Цвета будут сортироваться в порядке его возрастания;</li>
	<li>тип цвета &mdash; позволяет выбрать один из вариантов:<ul>
		<li>простой цвет &mdash; администратор задаёт HTML-цвет текста в формате #123456;</li>
		<li>описание CSS-стиля &mdash; строка в формате стилей CSS, описывающая вид DIV с текстом сообщения;</li>
		<li>имя CSS-класса &mdash; если вы опишете CSS-класс в CSS-файлах оформления, то можете указать имя этого класса здесь;</li>
	</ul></li>
	<li>условие доступа &mdash; <a href="/doc/script">скриптовое выражение</a>, описывающее условие, при котором цвет будет доступен персонажу;</li>
	<li>сообщение об ошибке &mdash; если задано условие доступа, и оно не позволяет персонажу воспользоваться цветом, то будет показано это сообщение.</li>
</ul>

<p>К примеру, если вы хотите сделать оформление сообщений в чате специально для главного администратора игры (к примеру, жирное в красной рамочке), то его можно настроить так: <img class="doc-screenshot" src="/st/tutorial/chatimages-3.png" alt="" /></p>
<p>Обратите внимание, что условие доступа прописано как char.perm_project_admin &mdash; это соответствует привилегии "Главный администратор".</p>

<h1>Доступ к цветам</h1>

<p>Доступ к каждому цвету настраивается индивидуально и работает в двух режимах &mdash; через платную услугу "Цвета в чате" и через скриптовый движок. Правила предоставления доступа к цвету следующие:</p>

<ul>
	<li>если поле "условие доступа" не заполнено, а платная услуга "Цвета в чате" отключена, то доступ к цвету предоставляется всем персонажам без ограничений;</li>
	<li>если поле "условие доступа" не заполнено, а платная услуга "Цвета в чате" включена, то цвет виден в списке всем, но доступ к нему предоставляется только при оплаченной услуге;</li>
	<li>если заполнено "условие доступа", а поле "сообщение об ошибке" не заполнено, то цвет будет виден в списке только тем персонажам, для которых "условие доступа" истинно;</li>
	<li>если заполнены поля "условие доступа" и "сообщение об ошибке", то цвет будет виден в списке всем, но установить его смогут только те, для которых "условие доступа" истинно. Все остальные будут получать указанное сообщение об ошибке.</li>
</ul>

<p>Этот механизм позволяет гибко настраивать правила предоставления доступа к тем или иным цветам. К примеру, вы можете пользоваться не стандартной платной услугой "Цвета в чате", а ввести новую услугу "Ультра-премиум" с кодом "u_ultra_premium", и доступ к какому-то супер-цвету предоставлять по условию "char.mod.u_ultra_premium".</p>

<p>Если вы хотите, чтобы какой-то цвет был доступен всем персонажам, независимо от всяких условий и бесплатно, то в поле "условие доступа" пропишите "1": <img class="doc-screenshot" src="/st/tutorial/chatimages-4.png" alt="" /></p>

<p>Можно сделать какой-то цвет, которым смогут пользоваться только персонажи старших уровней. А чтобы младшие видели этот цвет и понимали, что им надо сделать для его получения, этот цвет можно сделать видимым для всех, но доступным для установки только хайлевелам: <img class="doc-screenshot" src="/st/tutorial/chatimages-5.png" alt="" /></p>

<h1>Примеры вариантов цветов</h1>

<ul>
	<li>цвет "#ff0000" &mdash; красный;</li>
	<li>цвет "#00c000" &mdash; зелёный;</li>
	<li>цвет "#0000ff" &mdash; синий;</li>
	<li>стиль "font-weight: bold" &mdash; жирный;</li>
	<li>стиль "font-size: 24px" &mdash; огромные буквы;</li>
	<li>стиль "border: solid 1px #00c000; padding: 2px; margin: 2px 0 2px" &mdash; зелёная рамка с отступами внутри и снаружи;</li>
	<li>стиль "background-image: url(//storage.mmoconstructor.ru/userstore/****)" &mdash; заливка фона сообщения картинкой из <a href="/doc/storage">статического хранилища</a>;</li>
	<li>стиль "background: #000080; color: #ffffff" &mdash; белым по синему.</li>
</ul>

<h1>Дополнительная информация</h1>

<ul>
	<li><a href="/doc/script">Описание скриптового движка</a></li>
	<li><a href="/doc/chat">Настройка конфигурации чата</a></li>
	<li><a href="/doc/design/gameinterface">Настройка оформления игрового интерфейса</a></li>
</ul>
