<!-- doc.title Оформление интерфейсов крафта в онлайн-игре -->
<!-- doc.parent design/gameinterface -->
<!-- doc.keywords оформление, крафт, рецепты, игровой интерфейс -->
<!-- doc.description Как оформлять шаблоны интерфейсов крафта по рецептам в конструкторе игр -->

<p>За оформление списка рецептов отвечает файл <a href="/doc/game-template/crafting-recipes-layout.html">crafting-recipes-layout.html</a> в шаблоне оформления игры. Он может использовать следующие переменные шаблонизатора:<ul>
    <li>base_url &mdash; базовый урл для интерфейса крафта, открытого в данный момент;</li>
    <li>categories &mdash; список разделов с рецептами. Каждый элемент имеет поля:<ul>
        <li>id &mdash; идентификатор раздела;</li>
        <li>name_html_js &mdash; название раздела в jsencode;</li>
        <li>visible &mdash; признак, что раздел должен быть активирован при загрузке страницы;</li>
        <li>recipes &mdash; список рецептов в этом разделе. Каждый элемент имеет поля:<ul>
            <li>id &mdash; идентификатор рецепта;</li>
            <li>name &mdash; название рецепта;</li>
            <li>image &mdash; изображение рецепта (может отсутствовать);</li>
            <li>description &mdash; текстовое описание рецепта;</li>
            <li>params &mdash; список параметров рецепта (может отсутствовать). Каждый элемент имеет поля:<ul>
                <li>name &mdash; название поля;</li>
                <li>value &mdash; значение поля;</li>
                <li>unit &mdash; единица измерения (может отсутствовать);</li>
            </ul></li>
            <li>ingredients &mdash; список ингредиентов (может отсутствовать). Каждый элемент имеет поля:<ul>
                <li>item_type &mdash; объект ItemType;</li>
                <li>item_name &mdash; название предмета;</li>
                <li>quantity &mdash; количество;</li>
                <li>unit &mdash; единица измерения (может отсутствовать);</li>
                <li>enough &mdash; признак, что у персонажа достаточно предметов данного типа;</li>
            </ul></li>
            <li>production &mdash; список выдаваемой продукции (может отсутствовать). Каждый элемент имеет поля:<ul>
                <li>item_type &mdash; объект ItemType;</li>
                <li>item_name &mdash; название предмета;</li>
                <li>quantity &mdash; количество;</li>
                <li>unit &mdash; единица измерения (может отсутствовать);</li>
            </ul></li>
            <li>errors &mdash; список ошибок, препятствующих использованию рецепта (может отсутствовать). Каждый элемент имеет поля:<ul>
                <li>text &mdash; текст сообщения об ошибке;</li>
            </ul></li>
        </ul></li>
    </ul></li>
    <li>Ingredients &mdash; слово "Ингредиенты" на языке игры;</li>
    <li>Production &mdash; слово "Продукция" на языке игры.</li>
</ul></p>

<p>Результат подстановки параметров в шаблон crafting-recipes-layout.html затем оборачивается в ещё один шаблон, который добавляет к интерфейсу меню &mdash; <a href="/doc/game-template/crafting-global.html">crafting-global.html</a>. Он может использовать следующие параметры:<ul>
    <li>title &mdash; заголовок интерфейса;</li>
    <li>crafting_func_menu &mdash; меню крафта (может отсутствовать). Каждый элемент имеет поля:<ul>
        <li>href &mdash; ссылка (может отсутствовать);</li>
        <li>html &mdash; текст элемента меню;</li>
        <li>lst &mdash; признак последнего элемента;</li>
    </ul></li>
    <li>content &mdash; место, куда будет подставлен вложенный шаблон.</li>
</ul></p>

<h1>Визуализация списка рецептов в библиотеке</h1>

<p>Список разделов рецептов крафта выводится в библиотеке при помощи шаблона социального интерфейса <a href="/doc/socio-template/library-crafting-categories.html">library-crafting-categories.html</a>. Он может использовать следующие параметры:<ul>
    <li>categories &mdash; список разделов. Каждый элемент имеет поля:<ul>
        <li>id &mdash; идентификатор раздела;</li>
        <li>name &mdash; название раздела.</li>
    </ul></li>
</ul></p>

<p>Список рецептов выводится при помощи шаблона <a href="/doc/socio-template/library-crafting-recipes.html">library-crafting-recipes.html</a>. Он может использовать следующие параметры:<ul>
    <li>recipes &mdash; список рецептов. Каждый элемент имеет поля:<ul>
        <li>id &mdash; идентификатор рецепта;</li>
        <li>name &mdash; название рецепта;</li>
        <li>image &mdash; ссылка на изображение рецепта (может отсутствовать);</li>
        <li>params &mdash; список параметров и заголовков подразделов (может отсутствовать). Каждый элемент имеет поля:<ul>
            <li>header &mdash; признак, что данный элемент является заголовком подраздела. Точнее, в этом поле записывается именно текст подзаголовка. Если это поле отсутствует, то значит данный элемент является параметром;</li>
            <li>name &mdash; название параметра;</li>
            <li>value &mdash; значение параметра;</li>
            <li>unit &mdash; единица измерения (может отсутствовать);</li>
            <li>library_icon &mdash; HTML-код, отображающий ссылку на библиотеку;</li>
        </ul></li>
        <li>description &mdash; описание рецепта.</li>
    </ul></li>
</ul></p>

