<div class="text">
<h1>[%GameLogo%]</h1>
<p>[%HereYouCan%]</p>
<h2>[%FromFile%]</h2>
<div id="file_form"></div>
<h2>[%FromConstructor%]</h2>
<div id="constructor_form"></div>
</div>

<script type="text/javascript">
var file_form = new Ext.FormPanel({
	renderTo: 'file_form',
	cls: 'bottom-form',
	border: false,
	layout: 'form',
	fileUpload: true,
	items: [{
		border: false,
		layout: 'hbox',
		layoutConfig: {
			align: 'stretchmax',
			pack: 'start',
		},
		items: [{
			layout: 'fit',
			border: false,
			items: {
				fieldLabel: 'Upload from your computer',
				xtype: 'textfield',
				name: 'image',
				inputType: 'file',
				anchor: '-30',
				border: false,
			}
		}, {
			width: 100,
			border: false,
			items: {
				style: 'margin-left: 20px',
				xtype: 'button',
       				text: '[%Upload%]',
				handler: function() {file_form.getForm().submit({
					url: '/admin-wizard/call/[%wizard%]/upload',
					waitMsg: 'WAIT',
					success: function(f, action) {
						adm_success(action.response, {
							func: "admin-wizard/call/[%wizard%]/upload"
						});
					},
					failure: function(f, action) {
						if (action.failureType === Ext.form.Action.SERVER_INVALID) {
							if (action.result.errormsg) {
								Ext.Msg.alert(gt.gettext('Error'), action.result.errormsg);
							}
						} else if (action.failureType === Ext.form.Action.CONNECT_FAILURE) {
							Ext.Msg.alert(gt.gettext('Error'), sprintf(gt.gettext('Server error: %s'), action.response.status + ' ' + action.response.statusText + '<br />' + data.url));
						}
					},
				})}
			}
		}]
	}]
});
</script>
